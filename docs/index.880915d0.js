/* @license
 * Jacob Perez <https://jacobxperez.github.io/blog/>
 * Copyright (C) 2024 Jacob Perez <jacobxperez@gmx.com>
 * Licensed under the Apache License, Version 2.0
 * http://www.apache.org/licenses/LICENSE-2.0
-----------------------------------------------------------------------------*/
const t={set:(t,e,n="")=>t instanceof Element&&(t.setAttribute(`data-${e}`,n),!0),remove:(t,e)=>t instanceof Element&&(t.removeAttribute(`data-${e}`),!0),removeValue(t,e,n=null){if(!(t instanceof Element))return!1;const a=t.getAttribute(`data-${e}`);return null!==a&&((null===n||a===n)&&(t.setAttribute(`data-${e}`,""),!0))},get:(t,e)=>t instanceof Element?t.getAttribute(`data-${e}`):null,has:(t,e)=>t instanceof Element&&t.hasAttribute(`data-${e}`),hasValue:(t,e,n)=>t instanceof Element&&t.getAttribute(`data-${e}`)===n,closest:(t,e,n=null)=>t instanceof Element?t.closest(n?`[data-${e}="${n}"]`:`[data-${e}]`):null,matches:(t,e,n=null)=>t instanceof Element&&t.matches(n?`[data-${e}="${n}"]`:`[data-${e}]`),toggle(t,e,n=""){if(!(t instanceof Element))return!1;const a=t.hasAttribute(`data-${e}`);return a?t.removeAttribute(`data-${e}`):t.setAttribute(`data-${e}`,n),!a},toggleValue(t,e,n,a){if(!(t instanceof Element))return!1;const r=t.getAttribute(`data-${e}`)===n?a:n;return t.setAttribute(`data-${e}`,r),r},query:(t,e,n=null)=>t instanceof Element?t.querySelector(n?`[data-${e}="${n}"]`:`[data-${e}]`):null,queryAll:(t,e,n=null)=>t instanceof Element?t.querySelectorAll(n?`[data-${e}="${n}"]`:`[data-${e}]`):[],observe(t,e,n){if(!(t instanceof Element)||"function"!=typeof n)return!1;const a=new MutationObserver((a=>{a.forEach((a=>{a.attributeName===`data-${e}`&&n(t,t.getAttribute(`data-${e}`))}))}));return a.observe(t,{attributes:!0}),a}};function e(t){return"function"==typeof t&&t(),this}function n(...t){const e=new Set,n=new Set(["pop","tooltip",...t]);function r(){e.forEach((t=>{n.has(t.dataset.toggle)&&(a.dataAttr.removeValue(t,"state","active"),a.dataAttr.set(t,"state","off"))}))}function o(t){const e=a.dataAttr.closest(t,"dropbox"),n=a.dataAttr.hasValue(t,"state","active");e||n||r(),a.dataAttr.toggleValue(t,"state","active","off")}return document.addEventListener("click",(t=>{const n=a.dataAttr.closest(t.target,"toggle");if(n){if(e.has(n))return;e.add(n),n.addEventListener("click",(t=>{o(n),t.stopPropagation()}),!0),o(n)}else r();t.stopPropagation()})),this}const a=new class{constructor(){this.dataAttr=t,this.toggle=n,this.callback=e}dataAttr;toggle;callback},r=()=>{const t=document.getElementById("aside"),e=document.getElementById("content");if("post"===meta.type){const n=e.querySelectorAll("h1, h2, h3, h4, h5, h6"),a='\n                <ul id=\'contents\' data-display="small-none">\n                    <li>\n                        <p><strong>Contents</strong></p>\n                    </li>\n                </ul>\n    \n                <ul data-display="small" data-box="border">\n                    <li>\n                        <a data-anchor data-flex data-toggle>\n                            <strong data-item="grow">Contents</strong>\n                            <span data-icon="&#xe043;"></span>\n                        </a>\n    \n                        <ul id=\'contentsDropdown\' data-dropbox>\n                        </ul>\n                    </li>\n                </ul>';t.insertAdjacentHTML("beforeend",a),n.forEach(((t,e)=>{t.setAttribute("id",`${e}`);const n=t.innerText,a=`<li><a href="#${e}">${n}</a></li>`;document.getElementById("contents").insertAdjacentHTML("beforeend",a);const r=`<li><a href="#${e}" data-anchor="menu">${n}</a></li>`;document.getElementById("contentsDropdown").insertAdjacentHTML("beforeend",r)}))}},o={_string(t,e){const n=t.trim(),a=document.querySelector(e);a?a.insertAdjacentHTML("beforeend",n):console.error(`Error: Target element "${e}" not found.`)},_append(t,e,n){if(!t||!e||!n)return void console.error("Error: Invalid arguments in _append().");const a=t.querySelector(e);if(!a)return void console.error(`Error: Template "${e}" not found.`);const r=a.content.cloneNode(!0),o=document.querySelector(n);o?o.appendChild(r):console.error(`Error: Target element "${n}" not found.`)},parser(t,e="text/html"){try{const n=(new DOMParser).parseFromString(t,e);if(!n)throw new Error("Parsing resulted in a null document.");return n}catch(t){return console.error(`Error parsing string: ${t.message}`),null}},create(t,e,n="body"){if("string"!=typeof t||!e)return console.error("Error: Invalid HTML string or missing ID."),null;const a=document.createElement("template");a.innerHTML=t.trim(),a.setAttribute("id",e);const r=document.querySelector(n);return r?(r.appendChild(a),a):(console.error(`Error: Parent element "${n}" not found.`),null)},async string(t,e,n=null){try{return await new Promise(((e,n)=>{"string"!=typeof t?n("Error: Source is not a string."):e()})),this._string(t,e),a.callback?.(n)}catch(t){return console.error(t)}},async append(t,e,n=null){try{return await new Promise(((e,n)=>{t||n("Error: Template selector is required."),e()})),this._append(document,t,e),a.callback?.(n)}catch(t){return console.error(t)}},async fetch(t,e=null){try{const n=await fetch(t);if(!n.ok)throw new Error(`HTTP Error: ${n.status}`);const a=await n.text(),r=this.parser(a);if(!r)return;if(e){const t=r.querySelector(e);t&&!document.getElementById(t.id)?document.body.appendChild(t):console.warn(`Warning: No new template found for "${e}".`)}else r.querySelectorAll("template").forEach((t=>{document.getElementById(t.id)||document.body.appendChild(t)}))}catch(t){console.error(`Fetch error: ${t.message}`)}},removeAll(){document.querySelectorAll("template").forEach((t=>t.remove()))}};document.addEventListener("DOMContentLoaded",(()=>{""===meta.title?meta.title="<h1>Rams</h1>":meta.title=`<h1>${meta.title}</h1>`;let t,e=`\n        <div id="header" data-container>\n            ${meta.title}\n        </div>\n        `,n='\n        <div data-container data-grid="main">\n            <aside id="aside" data-column="large-3 medium-3 small-4"></aside>\n            <article id="content" data-column="large-9 medium-9 small-4"></article>\n        </div>\n        ';"fullPage"===meta.type&&(n='\n        <div id="content" data-container data-grid="main"></div>\n        '),t="localhost"===location.hostname||"127.0.0.1"===location.hostname?window.location.origin+"/templates/index.59811f9a.html":window.location.origin+"/rams/templates/index.19081ad0.html",o.string(`\n        <nav data-navbar="top"></nav>\n        <header data-section="header">\n            ${e}\n        </header>\n        <main data-section="main">\n            ${n}\n        </main>\n        <footer data-section="footer"></footer>\n        `,"body").then((()=>o.append("#headerTemplate","#header"))).then((()=>o.append("#contentTemplate","#content",r))).then((()=>o.fetch(t))).then((()=>{o.append("#navTemplate","nav"),o.append("#footerTemplate","body > footer")})).finally((()=>o.removeAll())),a.toggle()}));